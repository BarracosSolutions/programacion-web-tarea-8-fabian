<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" /> <title>programacion-web-tarea-8-fabian</title>
    <script src="react.development.js"></script>
    <script src="react-dom.development.js"></script>
    <script src="babel.min.js"></script>
  </head>
  <body>
   <div id="root"></div>
   <script type="text/babel">

    class App extends React.Component {
        constructor(props) {
            super(props);
            this.state = { 
                        employees: [],    
                        nombre : "",
                        edad : "",
                        apellido : "",
                        direccion : "",
                        departamento : "",
                        sexo : "",
                        telefono : "",
                        cedula : ""
                        };
            this.change = this.change.bind(this);
            this.saveEmployee = this.saveEmployee.bind(this);
        }

        saveEmployee(event){

            let employee = {
                nombre: this.state.nombre,
                apellido: this.state.apellido,
                edad: this.state.edad,
                direccion: this.state.direccion,
                departamento: this.state.departamento,
                sexo : this.state.sexo,
                telefono : this.state.telefono,
                cedula : this.state.cedula
            }
            let newState = {};
            
            newState["nombre"] = "";
            newState["edad"] = "";
            newState["apellido"] = "";
            newState["direccion"] = "";
            newState["departamento"] = "";
            newState["cedula"] = "";
            newState["sexo"] = "";
            newState["telefono"] = "";
            newState["employees"] = [...this.state.employees, employee];

            this.setState(newState);
            event.preventDefault();

        }

        change(e){
            let named = e.target.name;
            let val = e.target.value + "";
            let obj = {};
            obj[named] = val;
            this.setState(obj);
        }

        render() {
            return (
                <div>
                    <form>
                        <label> Nombre:
                            <input name="nombre" type="text" value={this.state.nombre} onChange={this.change}/>
                        </label><br/>
                        <label> Apellido:
                            <input name="apellido" type="text" value={this.state.apellido} onChange={this.change}/>
                        </label><br/>
                        <label> Edad:
                            <input name="edad" type="number" value={this.state.edad} onChange={this.change}/>
                        </label><br/>
                        <label> Direccion:
                            <input name="direccion" type="text" value={this.state.direccion} onChange={this.change}/>
                        </label><br/>
                        <label> Departamento:
                            <input name="departamento" type="text" value={this.state.departamento} onChange={this.change}/>
                        </label><br/>
                        <label> Cedula:
                            <input name="cedula" type="text" value={this.state.cedula} onChange={this.change}/>
                        </label><br/>
                        <label> Sexo:
                            <input name="sexo" type="text" value={this.state.sexo} onChange={this.change}/>
                        </label><br/>
                        <label> Telefono:
                            <input name="telefono" type="number" value={this.state.telefono} onChange={this.change}/>
                        </label><br/>
                        <button onClick={this.saveEmployee}>Save</button>
                    </form>
                    <table>
                        <thead>
                            <tr>
                                <td>Nombre</td>
                                <td>Apellido</td>
                                <td>Edad</td>
                                <td>Direccion</td>
                                <td>Departamento</td>
                                <td>Sexo</td>
                                <td>Telefono</td>
                                <td>Cedula</td>
                            </tr>
                        </thead>
                        <tbody>
                            {this.state.employees.map(e => 
                                    <tr>
                                        <td>{e.nombre}</td>
                                        <td>{e.apellido}</td>
                                        <td>{e.edad}</td>
                                        <td>{e.direccion}</td>
                                        <td>{e.departamento}</td>
                                        <td>{e.sexo}</td>
                                        <td>{e.telefono}</td>
                                        <td>{e.cedula}</td>
                                    </tr>)}
                        </tbody>
                    </table>
                </div>
            );
        }
    }
   ReactDOM.render(<App/>, document.getElementById('root'));
   </script>
  </body>
</html>